(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{"+GGL":function(module,exports,e){},"0WE0":function(module,exports,e){},"1G4o":function(module,e,t){"use strict";var n=t("q1tI"),i=t("eJMc"),r=t.n(i),a=t("BVC1"),o=t("yhVA"),s=t.n(o);e.a=function(e){var t=e.computedItem;return n.createElement("div",{className:"rc-AssignmentSubmitBeforeReviewWarning"},n.createElement("div",{className:"bgcolor-warn-light color-warn-dark",style:{padding:16,margin:"12px 0px"}},s()("Submit your project before reviewing classmates.")),n.createElement("div",{className:"vertical-box align-items-vertical-center"},n.createElement(r.a,{to:a.a.join(t.resourcePath,"submit"),className:"link-button primary"},s()("Go to my project"))))}},"3J1S":function(module,exports,e){},"3cRX":function(module,exports,e){},"3w12":function(module,exports,e){},"4uky":function(module,e,t){"use strict";var n=t("q1tI"),i=t("EqTq"),r=(t("QUzv"),Object(i.a)("PeerAnonymousNotification"));e.a=function(e){var t=e.children;return(n.createElement("div",{className:r()},t))}},"7Diq":function(module,e,t){"use strict";var n=t("VbXa"),i=t.n(n),r=t("q1tI"),a=t("+KAk"),o=(t("X129"),function(e){var t=e.reviewSchemaPart,n=Object(a.a)(t.get("typeName")).DisplayPart;return r.createElement("div",{className:"rc-DisplayPart"},r.createElement(n,e))}),s=t("yhVA"),c=t.n(s),d=(t("WS07"),function(e){function DisplayParts(){return e.apply(this,arguments)||this}return i()(DisplayParts,e),DisplayParts.prototype.render=function(){var e=this.props,t=e.reviewSchema,n=e.reviewsSummary,i=e.reviews,a=e.submissionSchemaPartId,s=e.submissionId,d=e.assignmentLevelPointsLabel,l=e.isAssignmentLevelParts,u=e.isAIGraded,m=e.enableTranslation,b=e.courseId,p=t.getPartsForSubmissionSchemaPart(a);return 0===p.length?null:r.createElement("div",{className:"rc-DisplayParts bgcolor-white"},r.createElement("div",{className:"title horizontal-box align-items-spacebetween label-text color-secondary-text"},r.createElement("span",null,null!=a?c()("Rubric"):c()("Overall Assignment Rubric")),r.createElement("span",null,null===a&&d)),r.createElement("div",{className:"body-1-text"},p.map((function(e){return r.createElement(o,{key:e.get("id"),reviewSchemaPart:e,reviewsSummary:n,reviews:i,submissionId:s,isAIGraded:u,isAssignmentLevelPart:l,enableTranslation:m,courseId:b})}))))},DisplayParts}(r.Component));e.a=d},"9ZYf":function(module,exports,e){},"9uXd":function(module,exports,e){e("DkUL")},AOca:function(module,exports,e){e("Qo1F")},BUkX:function(module,e,t){"use strict";var n=t("k4cE"),i=t("i6HE"),r=t("E4RX"),a=t("Ef0b"),o=t("uhR6"),s=t("S+eF"),c=t.n(s),d=t("DnuM"),l=Object(d.a)("/api/onDemandPeerAuthoredReviews.v1",{type:"rest"});t.d(e,"b",(function(){return ReviewSubmissionActions_submit})),t.d(e,"a",(function(){return ReviewSubmissionActions_localUpdateReview}));var ReviewSubmissionActions_submit=function(e,t){var s=t.itemId,d=t.submissionId,u=t.review,m=t.userId,b=t.courseId,p=t.courseSlug,v=t.refetchSubmissionAndProgress;return e.dispatch(o.a.REVIEW_SUBMISSION_SUBMITTING,{submissionId:d}),function(e,t,n,i){return c()(l.post("",{data:{peerSubmissionId:"".concat(e,"~").concat(t,"~").concat(n),review:i}}))}(b,s,d,u).then(function(e,t){return function(){var s=t.submissionId,c=t.userId,d=t.courseId,l=t.courseSlug,u=t.itemId,m=t.refetchSubmissionAndProgress;e.executeAction(r.a,{courseId:d,refreshProgress:!0}),e.dispatch(o.a.REVIEW_SUBMISSION_SUBMITTED,{submissionId:s}),e.executeAction(i.b,{courseId:d}),m&&e.executeAction(a.d,{itemId:u,userId:c,courseId:d,courseSlug:l}),e.executeAction(n.a,{courseSlug:l,refetch:!0})}}(e,{submissionId:d,userId:m,courseId:b,courseSlug:p,itemId:s,refetchSubmissionAndProgress:v})).catch(function(e,t){return function(n){var i=n.responseJSON||{};if("InvalidReview"===i.errorCode)e.dispatch(o.a.REVIEW_SUBMISSION_SUBMIT_ERROR,{submissionId:t,errorType:"invalid-review",reviewValidationErrors:i.details});else if("ReviewExists"===i.errorCode)e.dispatch(o.a.REVIEW_SUBMISSION_SUBMIT_ERROR,{submissionId:t,errorType:"review-exists"});else if(e.dispatch(o.a.REVIEW_SUBMISSION_SUBMIT_ERROR,{submissionId:t,errorType:"unknown"}),!n.responseJSON)throw n}}(e,d))},ReviewSubmissionActions_localUpdateReview=function(e,t){var n=t.submissionId,i=t.reviewSchemaPartId,r=t.change;e.dispatch(o.a.REVIEW_SUBMISSION_LOCAL_UPDATE_REVIEW,{submissionId:n,reviewSchemaPartId:i,change:r})}},C2np:function(module,e,t){"use strict";var n,i,r,a,o,s,c,d,l,u,m,b=t("q1tI"),p=t("lSNA"),v=t.n(p),g=t("3tO9"),f=t.n(g),h=t("VbXa"),S=t.n(h),I=t("VkAN"),O=t.n(I),w=t("AeFk"),y=t("17x9"),j=t.n(y),x=t("HOoY"),C=t("sQ/U"),P=t("l1rq"),E=t("fw5G"),N=t.n(E),A=t("S+eF"),k=t.n(A),R=t("DnuM"),T=Object(R.a)("/api/onDemandPeerComments.v1",{type:"rest"}),M=["comment","attachedAssignmentId","creatorId","createdAt","peerSubmissionId","".concat("onDemandSocialProfiles.v1","(userId,externalUserId,fullName,photoUrl,courseRole,isAnonymous)")],onDemandPeerCommentsApi_getComments=function(e){var t=e.userId,n=e.courseId,i=e.itemId,r=e.submissionId,a=(new N.a).addQueryParam("q","submission").addQueryParam("userId",t.toString()).addQueryParam("peerSubmissionId","".concat(n,"~").concat(i,"~").concat(r)).addQueryParam("fields",M.join(",")).addQueryParam("includes","profiles");return k()(T.get(a.toString())).then((function(e){return{comments:e.elements,userProfiles:e.linked["onDemandSocialProfiles.v1"]}}))},onDemandPeerCommentsApi_submitComment=function(e){var t=e.courseId,n=e.itemId,i=e.submissionId,r=e.comment,a=(new N.a).addQueryParam("fields",M.join(",")).addQueryParam("includes","profiles");return k()(T.post(a.toString(),{data:{comment:r,peerSubmissionId:"".concat(t,"~").concat(n,"~").concat(i)}})).then((function(e){return{comments:e.elements,userProfiles:e.linked["onDemandSocialProfiles.v1"]}}))},V=t("wd/R"),D=t.n(V),F=t("ca6j"),L=t("jJyI"),G=t("yhVA"),B=t.n(G),U={container:function(){return Object(w.c)(n||(n=O()(["\n    display: flex;\n    padding: var(--cds-spacing-150) 0;\n    margin-top: var(--cds-spacing-50);\n  "])))},profileImage:function(){return Object(w.c)(i||(i=O()(["\n    margin-right: var(--cds-spacing-150);\n  "])))},commentContainer:function(){return Object(w.c)(r||(r=O()(["\n    width: 100%;\n  "])))},nameAndTimeContainer:function(){return Object(w.c)(a||(a=O()(["\n    display: flex;\n    justify-content: space-between;\n    margin-top: var(--cds-spacing-50);\n    margin-bottom: var(--cds-spacing-150);\n  "])))}},comments_CommentRow=function(e){var t=e.commentData,n=t.creator,i=t.comment,r=e.courseId;return Object(w.d)("div",{css:U.container,"data-testid":"peer-comment-row"},Object(w.d)("div",{css:U.profileImage},Object(w.d)(F.a,{profile:n})),Object(w.d)("div",{css:U.commentContainer},Object(w.d)("div",{css:U.nameAndTimeContainer},Object(w.d)(P.a,{className:"pii-hide",variant:"subtitleMedium",component:"strong","data-testid":"peer-comment-full-name"},n.isAnonymous?B()("Anonymous Learner"):n.fullName),Object(w.d)(P.a,{component:"div",variant:"bodySecondary",color:"supportText"},D()(i.createdAt).fromNow())),Object(w.d)(P.a,{component:"div",variant:"bodyPrimary","data-testid":"peer-comment-content"},Object(w.d)(L.a,{content:i.comment.definition.comment,courseId:r,eventingSectionName:"peer_comment"}))))},q=t("dhC9"),W=t("ZJgU"),z={container:function(){return Object(w.c)(o||(o=O()(["\n    display: flex;\n  "])))},profileImage:function(){return Object(w.c)(s||(s=O()(["\n    margin-right: var(--cds-spacing-150);\n  "])))},inputContainer:function(){return Object(w.c)(c||(c=O()(["\n    width: 100%;\n  "])))},input:function(){return Object(w.c)(d||(d=O()(["\n    label {\n      display: none;\n    }\n\n    div {\n      margin-top: 0 !important;\n    }\n  "])))},buttonContainer:function(){return Object(w.c)(l||(l=O()(["\n    display: flex;\n    flex-direction: row-reverse;\n    margin-top: var(--cds-spacing-150);\n  "])))}},Y=function(e){function CommentTextArea(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).state={posting:!1},t.onChange=function(e){var n=e.target.value;t.setState({comment:n})},t.onPostClick=function(){var e=t.props.onPostingComment,n=t.state.comment;n&&(t.setState({posting:!0}),e(n).then((function(){t.setState({comment:"",posting:!1})})))},t}return S()(CommentTextArea,e),CommentTextArea.prototype.render=function(){var e=this.props,t=e.submissionId,n=e.isReadOnly,i=this.state,r=i.comment,a=i.posting,o=null!=n&&n;return Object(w.d)("div",{css:z.container},Object(w.d)("div",{className:"pii-hide",css:z.profileImage},Object(w.d)(F.a,{profile:{photoUrl:Object(C.b)().photo_120,fullName:Object(C.b)().fullName}})),Object(w.d)("div",{css:z.inputContainer},Object(w.d)(q.a,{fullWidth:!0,multiline:!0,label:B()("Enter Peer Review comments"),value:r,id:"".concat(t,"~comment"),placeholder:B()("Share your thoughts..."),onChange:this.onChange,disabled:a||o,maxRows:3,css:z.input}),r&&Object(w.d)("div",{css:z.buttonContainer},Object(w.d)(W.a,{variant:"secondary",size:"small",onClick:this.onPostClick,loading:a},B()("Post")))))},CommentTextArea}(b.Component),H={LOADING:"LOADING",LOAD_ERROR:"LOAD_ERROR",SUBMITING:"SUBMITING",SUBMIT_ERROR:"SUBMIT_ERROR",READY:"READY"},Q={container:function(){return Object(w.c)(u||(u=O()(["\n    padding: 0 var(--cds-spacing-50);\n  "])))},inputContainer:function(){return Object(w.c)(m||(m=O()(["\n    margin-top: var(--cds-spacing-150);\n  "])))}},J=function(e){function CommentsContainer(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).state={commentRowData:[],networkState:H.READY},t.onCommentFetchSuccess=function(e){var n=e.comments,i=e.userProfiles.reduce((function(e,t){return f()(f()({},e),{},v()({},t.userId,t))}),{});t.setState({commentRowData:n.map((function(e){return{comment:e,creator:i[e.creatorId]}})),networkState:H.READY})},t.onPostingComment=function(e){var n=t.props,i=n.courseId,r=n.itemId,a=n.submissionId,o=t.context._eventData;return t.setState({networkState:H.SUBMITING}),onDemandPeerCommentsApi_submitComment({comment:{typeName:"plain",definition:{comment:e}},courseId:i,itemId:r,submissionId:a}).then((function(){x.a.trackComponent(o,{comment_user_id:Object(C.b)().id,comment:e},"click","post")})).catch((function(){t.setState({networkState:H.SUBMIT_ERROR})})).then(t.fetchComments)},t.fetchComments=function(){var e=t.props,n=e.courseId,i=e.itemId,r=e.submissionId;return onDemandPeerCommentsApi_getComments({userId:Object(C.b)().id,courseId:n,itemId:i,submissionId:r}).then(t.onCommentFetchSuccess).catch((function(){t.setState({networkState:H.LOAD_ERROR})}))},t}S()(CommentsContainer,e);var t=CommentsContainer.prototype;return t.componentDidMount=function(){this.setState({networkState:H.LOADING}),this.fetchComments()},t.componentDidUpdate=function(e){var t=this.props,n=t.courseId,i=t.itemId,r=t.submissionId;e.courseId===n&&e.itemId===i&&e.submissionId===r||this.fetchComments()},t.render=function(){var e=this.props,t=e.courseId,n=e.submissionId,i=e.isReadOnly,r=this.state,a=r.commentRowData,o=r.networkState;return Object(w.d)("div",{css:Q.container,"data-testid":"peer-comments-section"},o!==H.READY&&Object(w.d)("p",null,function(e){return{LOADING:B()("Loading..."),LOAD_ERROR:B()("Load error!"),SUBMITING:B()("Submitting..."),SUBMIT_ERROR:B()("Submit error!")}[e]}(o)),Object(w.d)(P.a,{component:"h3",variant:"subtitleMedium"},B()("Comments")),Object(w.d)(P.a,{component:"p",variant:"bodySecondary","data-testid":"peer-comments-caption-text"},B()("Comments left for the learner are visible only to that learner and the person who left the comment.")),Object(w.d)("div",{css:Q.inputContainer},Object(w.d)(Y,{submissionId:n,onPostingComment:this.onPostingComment,isReadOnly:i})),Object(w.d)("div",null,a.map((function(e){return Object(w.d)(comments_CommentRow,{commentData:e,courseId:t,key:"".concat(e.comment.createdAt,"~").concat(e.comment.creatorId)})}))))},CommentsContainer}(b.Component);J.contextTypes={_eventData:j.a.object};var X=J;t("c82m"),t("AOca"),e.a=function(e){var t,n=e.computedItem,i=e.submissionId,r=e.courseId,a=null!==(t=n.isReadOnlyAfterSessionEnd)&&void 0!==t&&t;return b.createElement("div",{className:"rc-CommentsSection card-rich-interaction cozy"},b.createElement(X,{courseId:r,itemId:n.id,submissionId:i,isReadOnly:a}))}},CLNb:function(module,e,t){"use strict";var n,i=t("VkAN"),r=t.n(i),a=t("AeFk"),o=(t("q1tI"),t("FdHa")),s=t("eJW0"),c=t.n(s),d={container:function(){return Object(a.c)(n||(n=r()(["\n    border-left: 1px solid var(--cds-color-neutral-stroke-primary-weak);\n    height: 100%;\n    min-height: 100%;\n    flex: 1 1 0px;\n\n    .title {\n      margin-bottom: var(--cds-spacing-300);\n    }\n\n    "," {\n      display: block;\n      border-left: 0;\n      border-bottom: 1px solid var(--cds-color-neutral-stroke-primary-weak);\n    }\n  "])),o.a.down("sm"))}};e.a=function(e){var t=e.children,n=e.ariaLabel;return t?Object(a.d)("div",{className:"rc-SubmissionViewCell",role:"region",css:d.container,"aria-label":n&&c()("Review prompt: #{ariaLabel}",{ariaLabel:n})},t):null}},CybI:function(module,e,t){"use strict";var n,i,r=t("VkAN"),a=t.n(r),o=t("AeFk"),s=(t("q1tI"),t("l1rq")),c=t("Ji5S"),d=t("yhVA"),l=t.n(d),u={container:function(){return Object(o.c)(n||(n=a()(["\n    display: flex;\n    gap: 8px;\n    align-items: center;\n  "])))}};e.a=function(){return Object(o.d)("div",{css:u.container},i||(i=Object(o.d)(c.i,null)),Object(o.d)(s.a,{component:"span",variant:"subtitleLarge"},l()("AI Grading")))}},DkUL:function(module,exports,e){},FagQ:function(module,exports,e){e("QH46")},GSPw:function(module,exports,e){e("vl24")},HWoB:function(module,exports,e){},N9VI:function(module,exports,e){e("+GGL")},Nfse:function(module,exports,e){e("SHoU")},OLuD:function(module,exports,e){},QH46:function(module,exports,e){},QUzv:function(module,exports,e){e("iUdz")},Qklf:function(module,exports,e){e("oaeZ")},Qo1F:function(module,exports,e){},Ru1s:function(module,e,t){"use strict";t.r(e),t.d(e,"comp",(function(){return C})),t.d(e,"fluxibleContextConnector",(function(){return fluxibleContextConnector}));var n=t("VbXa"),i=t.n(n),r=t("q1tI"),a=t("17x9"),o=t.n(a),s=t("F/us"),c=t.n(s),d=t("8cuT"),l=t("pR6o"),u=t("BVC1"),m=t("L1vm"),b=t("sQ/U"),p=t("EdUP"),v=t("1G4o"),g=t("VMeS"),f=t("YFce"),h=t("BUkX"),S=t("JAmU"),I=t("svVW"),O=t("ShLC"),w=t("yhVA"),y=t.n(w),j=function(e){function PeerItemReviewNext(t,n){var i;return(i=e.call(this,t,n)||this).handleReviewChange=function(e){return function(t){i.context.executeAction(h.a,{reviewSchemaPartId:e,change:t,submissionId:i.props.submissionId})}},i.handleReviewSubmit=function(){var e=i.props,t=e.computedItem,n=e.reviewSubmissionState,r=e.submissionId,a=e.courseId,o=e.giveReviewProgress;i.setState({loadNextSubmission:!0});var s=(o.remainingReviewCount||0)<=1;n&&n.review&&i.context.executeAction(h.b,{itemId:t.id,review:n.review,submissionId:r,userId:Object(b.b)().id,courseId:a,courseSlug:t.courseSlug,refetchSubmissionAndProgress:s})},i.state={loadNextSubmission:!1},i}i()(PeerItemReviewNext,e);var t=PeerItemReviewNext.prototype;return t.componentWillReceiveProps=function(e){var t=this.props,n=t.computedItem,i=t.courseId;e.reviewSubmissionState&&"submitted"===e.reviewSubmissionState.submitState&&this.state.loadNextSubmission?(this.setState({loadNextSubmission:!1}),this.context.executeAction(S.c,{userId:Object(b.b)().id,courseId:i,itemId:n.id})):"loading"===this.props.loadState&&"none"===e.loadState&&this.context.router.push(u.a.join(n.resourcePath,"give-feedback"))},t.render=function(){var e=this.props,t=e.loadState,n=e.submissionAndRelated,i=e.canReviewOthers,a=e.naptimeSubmission,o=e.naptimeSubmissionSchema,s=e.computedItem,c=e.courseId,d=e.submittedForAiGrading;if(!i)return r.createElement(v.a,{computedItem:s});if("loading"===t||"none"===t)return r.createElement("p",null,y()("Loading..."));if("loadError"===t)return r.createElement("p",null,y()("Error loading submission."));if("loaded"===t&&null!=n){var l=this.props,u=l.reviewSubmissionState,m=l.flaggedPreviousSubmission,b=l.skippedPreviousSubmission;return(r.createElement(O.b,{courseId:c,itemId:s.id},r.createElement(I.a,{courseId:c,computedItem:s,submission:n.submission,submissionSchema:n.submissionSchema,naptimeSubmission:a,naptimeSubmissionSchema:o,reviewSubmissionState:u,createdAt:n.submission.createdAt,creatorProfile:n.userProfiles[0],onReviewChange:this.handleReviewChange,onReviewSubmit:this.handleReviewSubmit,flaggedPreviousSubmission:m,skippedPreviousSubmission:b,isAdminMode:!1,isDeleted:n.isDeleted,votes:n.votes,submittedForAiGrading:d})))}return null},PeerItemReviewNext}(r.Component);j.contextTypes={executeAction:o.a.func.isRequired,router:o.a.object.isRequired};var fluxibleContextConnector=function(e,t){var n=t.computedItem,i=t.courseId,r=t.canReviewOthers,a=t.isOwnSubmission,o=t.loadState,s=t.loadedSubmissionItemId;r&&(a||"loaded"!==o||n.id!==s)&&e.executeAction(S.c,{userId:Object(b.b)().id,courseId:i,itemId:n.id})},x=c.a.compose(m.b.createTrackedContainer((function(){return{namespace:{page:"peer_review_review_peers_detail"}}})),Object(d.a)(["PeerViewSubmissionStore","PeerPermissionsAndProgressesStore","ProgressStore"],(function(e,t){var n,i=e.PeerViewSubmissionStore,r=e.PeerPermissionsAndProgressesStore,a=e.ProgressStore,o=t.computedItem,s=t.itemMetadata,d=a.courseProgress.getItemProgress(o.id),l=new f.a(s,d),u={remainingReviewCount:l.remainingReviewCount(),reviewCount:l.reviewCount()},m=i.getState().submissionId;return{loadState:i.getState().loadState,loadedSubmissionItemId:i.getState().submissionItemId,loadedSubmissionId:i.getState().submissionId,havePermissionsLoaded:"loaded"===r.getState().loadState,reviewSubmissionState:i.getState().reviewSubmissionState,submissionAndRelated:i.getState().submissionAndRelated,naptimeSubmission:i.getState().naptimeSubmission,naptimeSubmissionSchema:i.getState().naptimeSubmissionSchema,submissionId:m,flaggedPreviousSubmission:i.getState().flaggedPreviousSubmission,skippedPreviousSubmission:i.getState().skippedPreviousSubmission,canReviewOthers:c()(r.getState().capabilities||[]).contains("reviewPeers"),isOwnSubmission:i.getState().isOwnSubmission,submittedForAiGrading:void 0!==m&&"AI"===(null===(n=i.getState().submissionAndRelated)||void 0===n?void 0:n.submission.gradingType),giveReviewProgress:u}})),Object(p.a)((function(e){return e.havePermissionsLoaded}),r.createElement(g.a,{className:"rc-PeerItemReviewNext"})),Object(l.a)(fluxibleContextConnector))(j);e.default=x;var C=j},SHoU:function(module,exports,e){},SLR5:function(module,e,t){"use strict";var n=t("VbXa"),i=t.n(n),r=t("q1tI"),a=t("RT5p"),o=t("nsyj"),s=t("CLNb"),c=t("T8wf"),d=(t("l2qu"),function(e){function SubmissionBody(){return e.apply(this,arguments)||this}return i()(SubmissionBody,e),SubmissionBody.prototype.render=function(){var e=this.props,t=e.submission,n=e.submissionSchema,i=e.renderInlineNode,d=e.showAutoSubmittedNote,l=e.enableTranslation;return(r.createElement("div",{className:"rc-SubmissionBody"},n.parts.map((function(e){var n=null,u=!1;return t.parts&&t.parts[e.id]?n=t.parts[e.id]:(n=t.invalidParts[e.id],u=!0),r.createElement(c.a,{key:e.id},r.createElement(o.a,{submissionSchemaPart:e,submissionPart:n,isInvalid:u,showAutoSubmittedNote:d,enableTranslation:l}),i&&r.createElement(s.a,{ariaLabel:a.c.getInnerText(e.prompt)},i(e.id)))})),i&&i(null)&&r.createElement(c.a,null,r.createElement(s.a,null,i(null)))))},SubmissionBody}(r.Component));d.defaultProps={showAutoSubmittedNote:!1},e.a=d},T8wf:function(module,e,t){"use strict";var n,i,r=t("VkAN"),a=t.n(r),o=t("AeFk"),s=(t("q1tI"),t("FdHa")),c={container:function(){return Object(o.c)(n||(n=a()(["\n    margin-bottom: var(--cds-spacing-300);\n    width: 100%;\n    border: solid var(--cds-color-neutral-stroke-primary-weak);\n\n    /* don't show the left border - individual cells will do so. */\n    border-width: 1px 1px 1px 0;\n\n    /* if smaller than desktop, show cells vertical instead of horizontal. */\n    "," {\n      display: block;\n\n      /* don't show bottom border - individual cells will do so. */\n      border-width: 1px 1px 0 1px;\n    }\n  "])),s.a.down("sm"))},containerColumn:function(){return Object(o.c)(i||(i=a()(["\n    display: grid;\n    grid-template-columns: repeat(2, minmax(0, 1fr));\n    grid-gap: 0;\n  "])))}};e.a=function(e){var t=e.fullWidth,n=e.children;return Object(o.d)("div",{className:"rc-SubmissionViewTable",css:[c.container,!t&&c.containerColumn]},n)}},TPTZ:function(module,exports,e){},Vnsw:function(module,exports,e){},WS07:function(module,exports,e){e("rRPC")},X129:function(module,exports,e){e("9ZYf")},Z6wk:function(module,exports,e){},ap2Y:function(module,e,t){"use strict";var n,i,r=t("VkAN"),a=t.n(r),o=t("AeFk"),s=(t("q1tI"),t("l1rq")),c=t("5x5m"),d=t("CybI"),l=t("yhVA"),u=t.n(l),m={container:function(){return Object(o.c)(n||(n=a()(["\n    margin-top: var(--cds-spacing-300);\n  "])))}};e.a=function(e){var t=u()("Your assignment has been graded by AI. View your scores below."),n=u()("Your assignment has been graded by AI. View your scores below. You'll also find feedback from Coach, an AI-powered learning assistant, which provides insights on how to enhance your work.");return Object(o.d)("div",{css:[m.container,e.cssOverride]},Object(o.d)(c.a,{header:i||(i=Object(o.d)(d.a,null)),"aria-label":u()("Coach, AI powered assistant"),collapsible:!1},Object(o.d)(s.a,{component:"p",variant:"bodyPrimary"},e.hasTextRubric?n:t)))}},awLj:function(module,exports,e){e("Z6wk")},c82m:function(module,exports,e){e("3w12")},fiqM:function(module,e,t){"use strict";var n,i,r,a,o=t("q1tI"),s=t("pVnL"),c=t.n(s),d=t("MnCE"),l=t("+ojs"),SvgInfo_SvgInfo=function(e){return o.createElement(l.a,c()({},e,{viewBox:"0 0 48 48"}),n||(n=o.createElement("title",null,"Info")),i||(i=o.createElement("path",{d:"M24,46 C11.869,46 2,36.131 2,24 C2,11.869 11.869,2 24,2 C36.131,2 46,11.869 46,24 C46,36.131 36.131,46 24,46 M24,0 C10.767,0 0,10.767 0,24 C0,37.233 10.767,48 24,48 C37.233,48 48,37.233 48,24 C48,10.767 37.233,0 24,0"})),r||(r=o.createElement("path",{d:"M24,16 C25.105,16 26,15.104 26,14 C26,12.896 25.105,12 24,12 C22.895,12 22,12.896 22,14 C22,15.104 22.895,16 24,16"})),a||(a=o.createElement("polygon",{points:"25.4962 20.0093 20.4962 20.0093 20.4962 22.0093 23.4962 22.0093 23.4962 34.0093 20.4962 34.0093 20.4962 36.0093 28.4962 36.0093 28.4962 34.0093 25.4962 34.0093"})))};(SvgInfo_SvgInfo=Object(d.i)(SvgInfo_SvgInfo)).displayName="SvgInfo";var u,m=SvgInfo_SvgInfo,b=(t("Nfse"),function(e){var t=e.translatedMsg;return(o.createElement("div",{className:"rc-LightNotification"},u||(u=o.createElement("div",{className:"icon"},o.createElement(m,{size:24,color:"white"}))),o.createElement("span",{className:"message"},t)))}),p=t("yhVA"),v=t.n(p);e.a=function(){return o.createElement(b,{translatedMsg:v()("Follow the instructions to complete this activity. Your grade will be updated after review by course staff.")})}},fnD6:function(module,exports,e){e("3J1S")},foUQ:function(module,exports,e){e("TPTZ")},hmzV:function(module,exports,e){e("0WE0")},iUdz:function(module,exports,e){},l2qu:function(module,exports,e){e("HWoB")},nsyj:function(module,e,t){"use strict";var n,i,r=t("VbXa"),a=t.n(r),o=t("q1tI"),s=t("TSYQ"),c=t.n(s),d=t("Ev5W"),components_GitRepoView=function(e){var t=e.submissionPart;return(o.createElement(d.a,{repositoryId:t.gitRepositoryId,launchRole:t.launchRole,courseId:t.courseId,itemId:t.itemId,learnerUserId:t.submitterUserId}))},l=t("fiqM"),u=t("PNHL"),m=t("rlpc"),b=t("CLNb"),p=t("0OjG"),translation_TranslatedPlainTextView=function(e){var t=e.submissionPart,n=e.enableTranslation;return(o.createElement("span",{className:"rc-PlainTextView"},t.plainText&&o.createElement("p",{className:"body-1-text",style:{whiteSpace:"pre-line",wordWrap:"break-word"}},o.createElement(p.a,{plainText:t.plainText,enableTranslation:n}))))},v=t("UW5Q"),g=t("+t46"),translation_TranslatedRichTextView=function(e){var t=e.submissionPart,n=e.enableTranslation;return(o.createElement(v.a,null,o.createElement(g.a,{content:t.richText,assumeStringIsHtml:!0,enableTranslation:n})))},f=t("beC1"),h=t("yhVA"),S=t.n(h),I=(t("awLj"),function(e){function SubmissionPartView(){return e.apply(this,arguments)||this}a()(SubmissionPartView,e);var t=SubmissionPartView.prototype;return t.renderSpecificPart=function(){var e=this.props,t=e.submissionPart,i=e.showAutoSubmittedNote,r=e.enableTranslation;if(!t)return null;switch(t.typeName){case"plainText":return o.createElement(translation_TranslatedPlainTextView,{submissionPart:t.definition,enableTranslation:r});case"richText":return o.createElement(translation_TranslatedRichTextView,{submissionPart:t.definition,enableTranslation:r});case"url":return o.createElement(m.a,{submissionPart:t.definition});case"fileUpload":return o.createElement(u.a,{submissionPart:t.definition});case"offPlatform":return i&&(n||(n=o.createElement(l.a,null)));case"git":return o.createElement(components_GitRepoView,{submissionPart:t.definition});default:return null}},t.render=function(){var e=this.props,t=e.submissionSchemaPart,n=e.isInvalid,r=c()("rc-SubmissionPartView","bgcolor-white",{invalid:n});return o.createElement(b.a,null,o.createElement("div",{className:r},o.createElement("div",{className:"title label-text color-secondary-text"},S()("Prompt")),o.createElement("div",{className:"prompt caption-text color-secondary-text"},o.createElement(f.a,{content:t.prompt,assumeStringIsHtml:!0})),o.createElement("div",{className:"body-1-text scrollable"},this.renderSpecificPart()),n&&(i||(i=o.createElement("div",{className:"body-2-text color-danger"},"Invalid submission part")))))},SubmissionPartView}(o.Component));I.defaultProps={isInvalid:!1,showAutoSubmittedNote:!1};e.a=I},oI7c:function(module,exports,e){e("3cRX")},oaeZ:function(module,exports,e){},onZ3:function(module,e,t){"use strict";var n=t("q1tI"),i=t("+KAk"),r=(t("vEo0"),function(e){var t=e.reviewSchemaPart,r=Object(i.a)(t.get("typeName")).FormPart;return n.createElement("div",{className:"rc-FormPart body-1-text"},n.createElement(r,e))}),a=t("NXYo"),o=t("Zz7k"),s=t("yhVA"),c=t.n(s);t("9uXd"),e.a=function(e){var t=e.disabled,i=e.isMentorGraded,s=e.reviewSchema,d=e.review,l=e.submissionSchemaPartId,u=e.submissionId,m=e.submission,b=e.onChange,p=e.reviewValidationErrors,v=s.getPartsForSubmissionSchemaPart(l),g=n.createElement("div",{className:"rc-FormParts"},n.createElement("div",{className:"title label-text color-secondary-text"},null!=l?c()("Rubric"):c()("Overall Assignment Rubric")),v.map((function(e){var i=d[e.get("id")];if(!i)return null;var a=p&&p.partsSummary[e.get("id")];return(n.createElement(r,{key:e.get("id"),disabled:t,reviewSchemaPart:e,reviewPart:i,onChange:b&&b(e.get("id")),validationError:a,submissionId:u,submission:m}))})));return 0===v.length?null:i?n.createElement(a.a,{requestedCapability:o.e.reviewMentorGraded},g):g}},qPyB:function(module,e,t){"use strict";var n=t("VbXa"),i=t.n(n),r=t("q1tI"),a=t("eJMc"),o=t.n(a),s=t("DnuM"),c=t("BVC1"),d=t("sQ/U"),l=t("hbUA"),u=t("yhVA"),m=t.n(u),b=Object(s.a)("/api/onDemandPeerSubmissions.v1",{type:"rest"}),p=function(e){function PeerItemShareableLink(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).state={showLink:!1},t}i()(PeerItemShareableLink,e);var t=PeerItemShareableLink.prototype;return t.componentDidMount=function(){var e=this,t=this.props.computedItem;b.post("?action=disableUrlSharing&userId=".concat(Object(d.b)().id,"&courseId=").concat(t.courseId),{data:{}}).then((function(t){!1===t&&e.setState({showLink:!0})}))},t.render=function(){var e=this.props,t=e.computedItem,n=e.submissionId,i=this.state.showLink;if(Object(l.u)(t)||!i)return null;var a=c.a.join([t.resourcePath,"review",n]);return(r.createElement(o.a,{to:a,className:"rc-PeerItemShareableLink"},m()("Shareable Link")))},PeerItemShareableLink}(r.Component);e.a=p},rRPC:function(module,exports,e){},s2r9:function(module,exports,e){e("OLuD")},svVW:function(module,e,t){"use strict";var n,i,r,a,o,s,c,d,l,u,m,b,p,v,g,f,h,S=t("VbXa"),I=t.n(S),O=t("VkAN"),w=t.n(O),y=t("AeFk"),j=t("q1tI"),x=t("EqTq"),C=t("sQ/U"),components_AssignmentSuccessMessage=function(e){var t=e.children;return(j.createElement("div",{className:"rc-AssignmentSuccessMessage horizontal-box flex-1 bgcolor-success-light color-success-dark",style:{margin:"12px 0px",padding:16}},t))},P=t("7Diq"),E=t("onZ3"),N=t("hbUA"),A=t("O5JJ"),k=t("sOkY"),R=t("C2np"),T=t("3tO9"),M=t.n(T),V=t("mHyk"),D=t("NXYo"),F=t("Zz7k"),L=t("g0DA"),G=t("gO9+"),B=t("37kS"),U=t.n(B),q=(t("GSPw"),function(e){switch(e.errorType){case"invalid-review":return j.createElement("span",null,U()("You must fill in all the fields above."));case"review-exists":return j.createElement("span",null,U()('\n            You have already reviewed this submission. Click the "Peers to review" tab to get another\n            submission.\n          '));case"unknown":return j.createElement("span",null,U()("Error submitting. Please try again."));default:return n||(n=j.createElement("noscript",null))}}),components_FormSubmit=function(e){var t=Object(L.b)().peerReviewEventingV3Data,n=M()({button:{name:G.a.SUBMIT_FEEDBACK}},t);if(!e.reviewEditable)return null;var i=j.createElement("div",{className:"rc-FormSubmit"},j.createElement("div",null,j.createElement(V.a,{onClick:e.onSubmit,disabled:e.disabled,trackingData:n,noViewTracking:!0},U()("Submit Review"))),j.createElement("div",null,j.createElement(q,{errorType:e.errorType})));return e.isMentorGraded?j.createElement(D.a,{requestedCapability:F.e.reviewMentorGraded},i):i},W=t("4uky"),z=t("fsL8"),Y=t.n(z),H=t("yXPU"),Q=t.n(H),J=t("J4zp"),X=t.n(J),Z=t("eJMc"),K=t.n(Z),ee=t("kvW3"),te=t("BVC1"),ne=t("vXr1"),ie=t("S+eF"),re=t.n(ie),ae=t("DnuM"),oe=t("++Ya"),se=Object(ae.a)("",{type:"rest"}),ce="/api/onDemandCourseGradeItemOutcomeOverrides.v1/",adminApi_getOverride=function(e){var t=oe.a.tupleToStringKey([e.learnerId.toString(),e.courseId,e.itemId]),n=ce+t+"?fields=grade,isPassed,explanation,userPublicProfiles.v1(fullName)&includes=publicProfiles";return re()(se.get(n))},adminApi_updateOverride=function(e){var t=oe.a.tupleToStringKey([e.learnerId.toString(),e.courseId,e.itemId]),n=ce+t;return re()(se.put(n,{data:{grade:e.grade,isPassed:e.isPassed,explanation:e.explanation}}))},adminApi_removeOverride=function(e){var t=oe.a.tupleToStringKey([e.learnerId.toString(),e.courseId,e.itemId]),n=ce+t;return re()(se.delete(n))},de=t("fAYU"),le=t("jpwg"),ue=t("8cuT"),me=t("yhVA"),be=t.n(me),components_PlagiarismMessage=function(){return j.createElement("div",null,j.createElement("p",null,j.createElement(ee.b,{message:be()("Plagiarism is unacceptable in any academic environment and is a serious violation\n          of Coursera's Honor Code. We have removed any credit toward your course grade that you may\n          have received for this assignment, and your grade has been permanently overridden to zero.")})),j.createElement("p",null,j.createElement(ee.b,{message:be()("Our learners come from many different academic backgrounds, and many are unfamiliar\n          with the academic standard for plagiarism. We fully understand that this violation of our\n          policies may have been a simple mistake. If this is the case, we ask that you review\n          {guidelines}, and follow them when submitting future assignments. Failure to do so may\n          result in more serious consequences, including removal from a course or from the Coursera\n          community."),guidelines:j.createElement(de.a,{rel:"noopener noreferrer",target:"_blank",href:"https://learner.coursera.help/hc/articles/209818863-Coursera-Honor-Code"},be()("these guidelines"))})))},pe=t("1Vhl"),ve=t("Gcrz"),ge=t("TSYQ"),fe=t.n(ge),he=t("UYTu"),Se=(t("FagQ"),Object(he.a)(r||(r=w()(["\n  query OnDemandCourseGradeItemPassingFractionsV1Query($branchItemId: String!) {\n    OnDemandCourseGradeItemPassingFractionsV1 @naptime {\n      get(id: $branchItemId) {\n        elements {\n          id\n          passingFraction\n        }\n      }\n    }\n  }\n"])))),Ie=Object(ve.d)(Se,{options:function(e){return{variables:{branchItemId:Object(oe.c)([e.courseBranchId,e.itemId])}}},props:function(e){var t=e.data,n=e.ownProps,i=t||{},r=i.loading,a=i.OnDemandCourseGradeItemPassingFractionsV1,o=(a&&a.get&&a.get.elements&&a.get.elements[0]||{}).passingFraction;return M()(M()({},n),{},{loading:r,passingFraction:o})}})((function(e){var t=e.loading,n=e.passingFraction,r=e.className;return(j.createElement("div",{className:fe()("rc-PassingThreshold","v2",r)},t?i||(i=j.createElement("div",{className:"placeholder"})):"".concat(100*(n||0),"%")))})),Oe=t("cAeq"),we=(t("oI7c"),{buttonContainer:Object(y.c)(a||(a=w()(["\n    .bt3-btn {\n      display: inline-block;\n      margin-bottom: 0;\n      font-weight: normal;\n      text-align: center;\n      vertical-align: middle;\n      cursor: pointer;\n      background-image: none;\n      border: 1px solid transparent;\n      white-space: nowrap;\n      padding: 6px 12px;\n      font-size: 14px;\n      line-height: 1.4286;\n      border-radius: 4px;\n      -webkit-user-select: none;\n      -moz-user-select: none;\n      -ms-user-select: none;\n      user-select: none;\n    }\n\n    .bt3-btn:focus,\n    .bt3-btn:active:focus,\n    .bt3-btn.bt3-active:focus {\n      outline: thin dotted;\n      outline: 5px auto -webkit-focus-ring-color;\n      outline-offset: -2px;\n    }\n\n    .bt3-btn:hover,\n    .bt3-btn:focus {\n      color: #333;\n      text-decoration: none;\n    }\n\n    .bt3-btn:active,\n    .bt3-btn.bt3-active {\n      outline: 0;\n      background-image: none;\n      -webkit-box-shadow: inset 0 3px 5px rgba(0 0 0 / 12.5%);\n      box-shadow: inset 0 3px 5px rgba(0 0 0 / 12.5%);\n    }\n\n    .bt3-btn.bt3-disabled,\n    .bt3-btn[disabled],\n    fieldset[disabled] .bt3-btn {\n      cursor: not-allowed;\n      pointer-events: none;\n      opacity: 0.65;\n      -webkit-box-shadow: none;\n      box-shadow: none;\n    }\n\n    .bt3-btn-primary {\n      color: #fff;\n      background-color: #428bca;\n      border-color: #3885c7;\n    }\n\n    .bt3-btn-primary:hover,\n    .bt3-btn-primary:focus,\n    .bt3-btn-primary:active,\n    .bt3-btn-primary.bt3-active,\n    .bt3-open .bt3-dropdown-toggle.bt3-btn-primary {\n      color: #fff;\n      background-color: #3680c1;\n      border-color: #3175af;\n    }\n\n    .bt3-btn-primary:active,\n    .bt3-btn-primary.bt3-active,\n    .bt3-open .bt3-dropdown-toggle.bt3-btn-primary {\n      background-image: none;\n    }\n\n    .bt3-btn-primary.bt3-disabled,\n    .bt3-btn-primary[disabled],\n    fieldset[disabled] .bt3-btn-primary,\n    .bt3-btn-primary.bt3-disabled:hover,\n    .bt3-btn-primary[disabled]:hover,\n    fieldset[disabled] .bt3-btn-primary:hover,\n    .bt3-btn-primary.bt3-disabled:focus,\n    .bt3-btn-primary[disabled]:focus,\n    fieldset[disabled] .bt3-btn-primary:focus,\n    .bt3-btn-primary.bt3-disabled:active,\n    .bt3-btn-primary[disabled]:active,\n    fieldset[disabled] .bt3-btn-primary:active,\n    .bt3-btn-primary.bt3-disabled.bt3-active,\n    .bt3-btn-primary[disabled].bt3-active,\n    fieldset[disabled] .bt3-btn-primary.bt3-active {\n      background-color: #428bca;\n      border-color: #3885c7;\n    }\n  "])))}),ye=function(e){function AdminViewGradeOverride(t){var n;if((n=e.call(this,t)||this).handleGradeInputChange=function(e){n.setState({grade:e})},n.handleExplanationChange=function(e){n.setState({isForPlagiarism:"Plagiarism"===e.target.value})},n.handleCustomExplanationChange=function(e){n.setState({customExplanation:e.target.value})},n.submitOverride=function(){var e=n.state.isForPlagiarism?"Plagiarism":n.state.customExplanation;n.props.submitOverride(n.state.grade,e)},n.props.gradeOverride){var i="Plagiarism"===n.props.gradeOverride.explanation,r=i?"":n.props.gradeOverride.explanation;n.state={grade:n.props.gradeOverride.grade,isForPlagiarism:i,customExplanation:r}}else n.state={grade:0,isForPlagiarism:!0,customExplanation:""};return n}I()(AdminViewGradeOverride,e);var t=AdminViewGradeOverride.prototype;return t.isInputEnabled=function(){return"loaded"===this.props.gradeOverrideDataState},t.renderNoteForPlagiarism=function(){return Object(y.d)("div",{className:"details"},Object(y.d)("div",{className:"learners-note"},be()("Learners will see this message:")),o||(o=Object(y.d)(components_PlagiarismMessage,null)))},t.renderNoteForOtherReason=function(){var e=!this.isInputEnabled();return Object(y.d)("div",{className:"details"},Object(y.d)("div",{className:"learners-note"},be()("Learners will see this message:")),Object(y.d)("div",null,Object(y.d)("textarea",{className:"explanation",onChange:this.handleCustomExplanationChange,disabled:e,value:this.state.customExplanation})))},t.renderMainContent=function(){var e=this.props,t=e.branchId,n=e.itemId,i=be()("Restore original grade. Any admin overrides will be removed."),r=!this.isInputEnabled();return Object(y.d)("div",{className:"authoring-type"},Object(y.d)("div",{className:"horizontal-box input-row"},Object(y.d)("div",{className:"input-label"},be()("Score")),Object(y.d)("div",{className:"flex-1"},Object(y.d)(pe.a,{initialValue:this.state.grade,min:0,max:100,width:50,height:35,allowDecimal:!1,allowNegative:!1,onChange:this.handleGradeInputChange,disabled:r}),"%",Object(y.d)("div",{className:"details passing-threshold"},be()("Passing Threshold:")," Â  ",Object(y.d)(Ie,{courseBranchId:t,itemId:n})),(this.state.grade<0||this.state.grade>100)&&Object(y.d)("span",{className:"alertMessageMargin"},be()("Grade needs to be a number in between 0 and 100, inclusive.")))),Object(y.d)("div",{className:"horizontal-box input-row"},Object(y.d)("div",{className:"input-label"},be()("Reason:")),Object(y.d)("div",{className:"flex-1"},Object(y.d)("div",{className:"horizontal-box"},Object(y.d)("input",{id:"rc-AdminViewGradeOverride-plagiarism",name:"explanation",type:"radio",value:"Plagiarism",className:"option-radio",onChange:this.handleExplanationChange,checked:this.state.isForPlagiarism,disabled:r}),s||(s=Object(y.d)("label",{htmlFor:"rc-AdminViewGradeOverride-plagiarism",className:"label-radio"})),Object(y.d)("div",{className:"radioPadding flex-1"},Object(y.d)("span",null,be()("Plagiarism")),this.state.isForPlagiarism&&this.renderNoteForPlagiarism())),Object(y.d)("div",{className:"horizontal-box"},Object(y.d)("input",{id:"rc-AdminViewGradeOverride-other",name:"explanation",type:"radio",value:"Other",className:"option-radio",onChange:this.handleExplanationChange,checked:!this.state.isForPlagiarism,disabled:r}),c||(c=Object(y.d)("label",{htmlFor:"rc-AdminViewGradeOverride-other",className:"label-radio"})),Object(y.d)("div",{className:"radioPadding flex-1"},Object(y.d)("span",null,be()("Other")),!this.state.isForPlagiarism&&this.renderNoteForOtherReason())))),Object(y.d)("div",{className:"horizontal-box align-items-right"},!!this.props.gradeOverride&&Object(y.d)(Oe.c,{placement:"bottom",message:i,tooltipClassName:"rc-AdminViewGradeOverride-button-revert-tooltip"},Object(y.d)("button",{className:"bt3-btn",onClick:this.props.removeOverride,disabled:r,type:"button"},"removingOverride"===this.props.gradeOverrideDataState?be()("Reverting..."):be()("Revert"))),Object(y.d)("div",{className:"horizontal-box flex-1 align-items-right"},Object(y.d)("button",{className:"bt3-btn bt3-btn-primary button-save",onClick:this.submitOverride,disabled:r,type:"button"},"submittingOverride"===this.props.gradeOverrideDataState?be()("Saving..."):be()("Save")))),Object(y.d)("div",{className:"horizontal-box align-items-right"},"error"===this.props.gradeOverrideDataState&&Object(y.d)("span",null,be()("Problem connecting to server. Try again later."))))},t.render=function(){return Object(y.d)("div",{css:we.buttonContainer},Object(y.d)("div",{className:"rc-AdminViewGradeOverride"},Object(y.d)("h3",null,be()("Override Grade")),this.renderMainContent()))},AdminViewGradeOverride}(j.Component),je=Object(ue.a)(["SessionStore"],(function(e){return{branchId:e.SessionStore.getBranchId()}}))(ye),xe=t("+2ZD"),Ce=(t("fnD6"),function(e){var t=e.computedItem,n=e.handleClose,i=e.gradeOverrideDataState,r=e.gradeOverride,a=e.submitOverride,o=e.removeOverride;return(j.createElement(xe.a,{className:"rc-AdminViewGradeOverrideModal",allowClose:!0,modalName:"AdminViewGradeOverrideModal",type:"box",handleClose:n},j.createElement(je,{gradeOverrideDataState:i,gradeOverride:r,submitOverride:a,removeOverride:o,itemId:t.id})))}),Pe=t("5AUN"),Ee=(t("foUQ"),{buttonContainer:Object(y.c)(d||(d=w()(["\n    .bt3-btn {\n      display: inline-block;\n      margin-bottom: 0;\n      font-weight: normal;\n      text-align: center;\n      vertical-align: middle;\n      cursor: pointer;\n      background-image: none;\n      border: 1px solid transparent;\n      white-space: nowrap;\n      padding: 6px 12px;\n      font-size: 14px;\n      line-height: 1.4286;\n      border-radius: 15px;\n      -webkit-user-select: none;\n      -moz-user-select: none;\n      -ms-user-select: none;\n      user-select: none;\n      width: 85px;\n      background-color: #e0e0e0;\n      border-color: #616161;\n    }\n\n    .bt3-btn:focus,\n    .bt3-btn:active:focus,\n    .bt3-btn.bt3-active:focus {\n      outline: thin dotted;\n      outline: 5px auto -webkit-focus-ring-color;\n      outline-offset: -2px;\n    }\n\n    .bt3-btn:hover,\n    .bt3-btn:focus {\n      color: #333;\n      text-decoration: none;\n    }\n\n    .bt3-btn:active,\n    .bt3-btn.bt3-active {\n      outline: 0;\n      background-image: none;\n      -webkit-box-shadow: inset 0 3px 5px rgb(0 0 0 / 12.5%);\n      box-shadow: inset 0 3px 5px rgb(0 0 0 / 12.5%);\n    }\n\n    .bt3-btn.bt3-disabled,\n    .bt3-btn[disabled],\n    fieldset[disabled] .bt3-btn {\n      cursor: not-allowed;\n      pointer-events: none;\n      opacity: 0.65;\n      -webkit-box-shadow: none;\n      box-shadow: none;\n    }\n\n    .yes-button {\n      margin-right: 20px;\n    }\n  "])))}),Ne=function(e){function AdminDeletionConfirmModal(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).state={deleting:!1,deletionFailed:!1},t.handleRemoveGradeOverride=function(){t.setState({deleting:!0,deletionFailed:!1});var e=t.props,n=e.computedItem,i=e.courseId,r=e.submissionId;Pe.b({userId:Object(C.b)().id,itemId:n.id,courseId:i,submissionId:r}).then((function(e){t.props.handleDeleteSubmission(),t.props.handleClose()})).catch((function(e,n,i){t.setState({deletionFailed:!0,deleting:!1})}))},t}return I()(AdminDeletionConfirmModal,e),AdminDeletionConfirmModal.prototype.render=function(){return Object(y.d)(xe.a,{css:Ee.buttonContainer,className:"rc-AdminDeletionConfirmModal",allowClose:!0,modalName:"AdminDeletionConfirmModal",type:"box",handleClose:this.props.handleClose},Object(y.d)("div",{className:"browser-alert-container horizontal-box align-items-absolute-center"},Object(y.d)("div",{className:"browser-alert"},be()("Browser Alert"))),Object(y.d)("div",null,Object(y.d)("div",{className:"confirm-question"},be()("Are you sure you want to delete this submission? This action cannot be reversed.")),Object(y.d)("div",{className:"horizontal-box align-items-absolute-center"},Object(y.d)("button",{className:"bt3-btn yes-button",onClick:this.handleRemoveGradeOverride},this.state.deleting?be()("Deleting"):be()("Yes")),Object(y.d)("button",{className:"bt3-btn",onClick:this.props.handleClose},be()("No")))),this.state.deletionFailed&&Object(y.d)("div",{className:"horizontal-box align-items-absolute-center"},be()("Can't delete now, please try again later"),"."))},AdminDeletionConfirmModal}(j.Component),Ae={container:function(e){return Object(y.c)(l||(l=w()(["\n    padding: ",";\n    margin-bottom: ",";\n    background-color: #ffecd0;\n    border-radius: 4px;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n  "])),e.spacing(32,48),e.spacing(24))},icon:function(e){return Object(y.c)(u||(u=w()(["\n    color: #fda200;\n    margin-right: ",";\n\n    svg {\n      display: block;\n      width: 36px;\n      height: 36px;\n    }\n  "])),e.spacing(24))},adminAction:function(){return Object(y.c)(m||(m=w()(["\n    font-weight: 800;\n  "])))}},ke="idle",Re="loading",Te="error",Me="submittingOverride",Ve="loaded",De="removingOverride",PeerReviewAdminMessage_PeerReviewAdminMessage=function(e){var t=Object(ne.b)(),n=Object(j.useState)(!1),i=X()(n,2),r=i[0],a=i[1],o=Object(j.useState)(!1),s=X()(o,2),c=s[0],d=s[1],l=Object(j.useState)(e.isDeleted||!1),u=X()(l,2),m=u[0],p=u[1],v=Object(j.useState)(ke),g=X()(v,2),f=g[0],h=g[1],S=Object(j.useState)(),I=X()(S,2),O=I[0],w=I[1],x=Object(j.useState)(),C=X()(x,2),P=C[0],E=C[1];Object(j.useEffect)((function(){var t=e.computedItem,n=e.learnerId,i=e.courseId,r=!0;return h(Re),function(){var e=Q()(Y()().mark((function _callee(){var e,a,o,s;return Y()().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,adminApi_getOverride({learnerId:n,courseId:i,itemId:t.id});case 3:e=c.sent,a=e.elements[0],o=e.linked["userPublicProfiles.v1"][0],s=o&&o.fullName?o.fullName:"Anonymous",r&&(h(Ve),w({grade:100*a.grade,isPassed:a.isPassed,explanation:a.explanation,overriderName:s})),c.next=13;break;case 10:c.prev=10,c.t0=c.catch(0),r&&(404===c.t0.status?h(Ve):h(Te));case 13:case"end":return c.stop()}}),_callee,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}()(),function(){r=!1}}),[]);var handleShowOverrideDialog=function(){return a(!0)},handleShowDeleteDialog=function(){return d(!0)},renderGradeOverriddenMessage=function(e){var t=U()("The grade for this submission has been adjusted to be passing at {gradePercent}\n        by {overriderName}."),n=U()("The grade for this submission has been adjusted to be not passing at {gradePercent}\n        by {overriderName}.");return Object(y.d)("strong",null,Object(y.d)(ee.b,{message:e.isPassed?t:n,gradePercent:Object(y.d)("span",{"data-testid":"grade-override-value"},Object(N.b)(e.grade/100)),overriderName:e.overriderName}))},A=e.computedItem,k=e.courseId,R=e.submissionId,T=f===Me?P:O;return Object(y.d)("div",{css:Ae.container},Object(y.d)("div",{css:Ae.icon},b||(b=Object(y.d)(le.a,null))),Object(y.d)("div",null,function(e){var n=t.location.pathname,i=Object(y.d)("div",null,Object(y.d)("span",{className:"bold-text"},U()("This submission was deleted. It is not available for other learners to review."))),r=te.a.join(n.split("/").slice(0,-1)),a=Object(y.d)("div",null,U()("To leave a review"),","," ",Object(y.d)(K.a,{css:Ae.adminAction,to:r},U()("view this submission as a learner")),".");switch(f){case ke:case Re:return Object(y.d)("div",null,U()("Loading..."));case Te:return Object(y.d)("div",null,U()("Error loading grade override information."));default:return Object(y.d)("div",null,m&&i,function(e){var t=U()("adjust the grade"),n=U()("adjust the grade again"),renderOverrideToolLink=function(e){return Object(y.d)(de.a,{role:"button",tabIndex:0,css:Ae.adminAction,"data-testid":"action-adjust-grade",onClick:handleShowOverrideDialog},e)},i=Object(y.d)(de.a,{role:"button",tabIndex:0,css:Ae.adminAction,"data-testid":"action-delete-submission",onClick:handleShowDeleteDialog},U()("delete the submission"));return e?m?Object(y.d)("div",null,renderGradeOverriddenMessage(e)," ",U()("You may")," ",renderOverrideToolLink(n),"."):Object(y.d)("div",null,renderGradeOverriddenMessage(e)," ",U()("You may")," ",renderOverrideToolLink(n)," or ",i,"."):m?Object(y.d)("div",null,U()("Even though it has been deleted, as an administrator, you may")," ",renderOverrideToolLink(t)," ",U()("attributed to it"),"."):Object(y.d)("div",null,U()("As an administrator, you may")," ",renderOverrideToolLink(t)," or ",i,".")}(e),!m&&a)}}(T)),r&&Object(y.d)(Ce,{handleClose:function(){return a(!1)},gradeOverrideDataState:f,gradeOverride:T,submitOverride:function(t,n){var i=e.computedItem,r=e.courseId,o=e.learnerId;f===Ve&&t>=0&&t<=100&&(h(Me),E({grade:t,explanation:n}),adminApi_updateOverride({learnerId:o,courseId:r,itemId:i.id,grade:t/100,explanation:n}).then((function(){h(Ve),w({grade:t,explanation:n}),E(void 0),a(!1)})).catch((function(){h(Te),E(void 0)})))},removeOverride:function(){var t=e.computedItem,n=e.courseId,i=e.learnerId;h(De),adminApi_removeOverride({learnerId:i,courseId:n,itemId:t.id}).then((function(){h(Ve),w(void 0),a(!1)})).catch((function(){h(Te)}))},computedItem:A}),c&&Object(y.d)(Ne,{courseId:k,handleClose:function(){return d(!1)},computedItem:A,submissionId:R,handleDeleteSubmission:function(){return p(!0)}}))},Fe=function(e){function PeerReviewAdminMessageWithPermissions(){return e.apply(this,arguments)||this}return I()(PeerReviewAdminMessageWithPermissions,e),PeerReviewAdminMessageWithPermissions.prototype.render=function(){return Object(y.d)(D.a,{requestedCapability:F.e.reviewMentorGraded},Object(y.d)(PeerReviewAdminMessage_PeerReviewAdminMessage,this.props))},PeerReviewAdminMessageWithPermissions}(j.Component),Le=t("SLR5"),Ge=t("ySha"),Be=t("ap2Y"),Ue=t("HulD"),qe=t("lPk7"),We={bannerSectionWrapper:function(){return Object(y.c)(p||(p=w()(["\n    margin-bottom: var(--cds-spacing-200);\n  "])))},bannerWrapper:function(){return Object(y.c)(v||(v=w()(["\n    margin-bottom: var(--cds-spacing-200);\n  "])))}},notifications_SubmissionSkippedBanner=function(){return Object(y.d)("div",{css:We.bannerSectionWrapper},Object(y.d)("div",{css:We.bannerWrapper},Object(y.d)(Ue.a,{severity:"success"},be()("The previous submission was successfully skipped. You can review a different submission below."))),g||(g=Object(y.d)(qe.a,{color:"light"})))},ze=t("qPyB"),_e=t("17x9"),Ye=t.n(_e),He=t("F/us"),Qe=t.n(He),Je=t("ZJgU"),Xe=t("POo7"),components_SubmissionFlaggerButton=function(e){var t=e.onClick;return(j.createElement(Je.a,{variant:"ghost",icon:f||(f=j.createElement(Xe.a,{size:"small"})),iconPosition:"before",size:"small",onClick:t},be()("Flag submission")))},Ze=t("W8MJ"),Ke=t.n(Ze),$e=t("J2m7"),et=t.n($e),tt=t("eJW0"),nt=t.n(tt),it=(t("s2r9"),{modalContainer:Object(y.c)(h||(h=w()(["\n    .bt3-btn {\n      display: inline-block;\n      margin-bottom: 0;\n      font-weight: normal;\n      text-align: center;\n      vertical-align: middle;\n      cursor: pointer;\n      background-image: none;\n      border: 1px solid transparent;\n      white-space: nowrap;\n      padding: 6px 12px;\n      font-size: 14px;\n      line-height: 1.4286;\n      border-radius: 4px;\n      -webkit-user-select: none;\n      -moz-user-select: none;\n      -ms-user-select: none;\n      user-select: none;\n    }\n\n    .bt3-btn:focus,\n    .bt3-btn:active:focus,\n    .bt3-btn.bt3-active:focus {\n      outline: thin dotted;\n      outline: 5px auto -webkit-focus-ring-color;\n      outline-offset: -2px;\n    }\n\n    .bt3-btn:hover,\n    .bt3-btn:focus {\n      color: #333;\n      text-decoration: none;\n    }\n\n    .bt3-btn:active,\n    .bt3-btn.bt3-active {\n      outline: 0;\n      background-image: none;\n      -webkit-box-shadow: inset 0 3px 5px rgb(0 0 0 / 12.5%);\n      box-shadow: inset 0 3px 5px rgb(0 0 0 / 12.5%);\n    }\n\n    .bt3-btn.bt3-disabled,\n    .bt3-btn[disabled],\n    fieldset[disabled] .bt3-btn {\n      cursor: not-allowed;\n      pointer-events: none;\n      opacity: 0.65;\n      -webkit-box-shadow: none;\n      box-shadow: none;\n    }\n\n    .bt3-btn-warning {\n      color: #fff;\n      background-color: #f0ad4e;\n      border-color: #efa63f;\n    }\n\n    .bt3-btn-warning:hover,\n    .bt3-btn-warning:focus,\n    .bt3-btn-warning:active,\n    .bt3-btn-warning.bt3-active,\n    .bt3-open .bt3-dropdown-toggle.bt3-btn-warning {\n      color: #fff;\n      background-color: #eea237;\n      border-color: #ec961e;\n    }\n\n    .bt3-btn-warning:active,\n    .bt3-btn-warning.bt3-active,\n    .bt3-open .bt3-dropdown-toggle.bt3-btn-warning {\n      background-image: none;\n    }\n\n    .bt3-btn-warning.bt3-disabled,\n    .bt3-btn-warning[disabled],\n    fieldset[disabled] .bt3-btn-warning,\n    .bt3-btn-warning.bt3-disabled:hover,\n    .bt3-btn-warning[disabled]:hover,\n    fieldset[disabled] .bt3-btn-warning:hover,\n    .bt3-btn-warning.bt3-disabled:focus,\n    .bt3-btn-warning[disabled]:focus,\n    fieldset[disabled] .bt3-btn-warning:focus,\n    .bt3-btn-warning.bt3-disabled:active,\n    .bt3-btn-warning[disabled]:active,\n    fieldset[disabled] .bt3-btn-warning:active,\n    .bt3-btn-warning.bt3-disabled.bt3-active,\n    .bt3-btn-warning[disabled].bt3-active,\n    fieldset[disabled] .bt3-btn-warning.bt3-active {\n      background-color: #f0ad4e;\n      border-color: #efa63f;\n    }\n  "])))}),rt=5,SubmissionFlaggerModal_getDefaultSkipReviewReasons=function(){return[{value:"incompleteSubmission",label:nt()("The submission is incomplete")},{value:"inappropriateContent",label:nt()("The submission contains inappropriate content")},{value:"plagiarism",label:nt()("The submission contains plagiarized content")},{value:"other",label:nt()("Other (please provide details below)")}]},at=function(e){function SubmissionFlaggerModal(t,n){var i;return(i=e.call(this,t,n)||this).getWordCount=function(e){return null==e?void 0:e.trim().split(/\s+/).filter(Boolean).length},i.hasMinimumWordCount=function(e){return i.getWordCount(e)>=rt},i.onEvidenceChange=function(e){if(e.target instanceof HTMLTextAreaElement){var t=e.target.value;i.setState((function(){return{evidence:t}}))}},i.onReasonChange=function(e){if(e.target instanceof HTMLSelectElement){var t=e.target.value,n=et()(SubmissionFlaggerModal_getDefaultSkipReviewReasons(),(function(e){return e.value===t}));n&&i.setState({selectedReason:n.value})}},i.onSendReportButtonClick=function(e){e.preventDefault();var t=i.state.evidence;i.hasMinimumWordCount(t)&&i.props.onReportSubmission({reason:i.state.selectedReason,evidence:t}),i.setState((function(){return{evidenceFieldTouched:!0}}))},i.handleEvidenceFieldTouched=function(){i.setState((function(){return{evidenceFieldTouched:!0}}))},i.state={selectedReason:t.defaultReason,evidence:"",evidenceFieldTouched:!1},i}return I()(SubmissionFlaggerModal,e),SubmissionFlaggerModal.prototype.render=function(){var e=this.state,t=e.selectedReason,n=e.evidenceFieldTouched,i=e.evidence,r=this.props,a=r.reasons,o=r.error,s=r.flagSubmissionState,c=this.getWordCount(i),d="flagging"===s,l=fe()("bt3-btn bt3-btn-warning c-modal-action-button",{"bt3-disabled":d}),u=!this.hasMinimumWordCount(i);return Object(y.d)(xe.a,{modalName:"SubmissionFlaggerModal",handleClose:this.props.onClose},Object(y.d)("div",{css:it.modalContainer},Object(y.d)("div",{className:"rc-SubmissionFlaggerModal"},Object(y.d)("h3",{className:"c-modal-title subtitle"},nt()("Flag this submission")),Object(y.d)("div",null,o&&o.responseJSON&&Object(y.d)("div",null,Object(y.d)("p",null,Object(y.d)(ee.b,{message:nt()("An error occurred submitting your report: #{errorMessage}"),errorMessage:o.responseJSON}))),Object(y.d)("div",null,Object(y.d)("form",null,Object(y.d)("div",{className:"field-container"},Object(y.d)("label",{htmlFor:"reason-selection"},nt()("Select a reason:")),Object(y.d)("select",{id:"reason-selection",className:"field",disabled:"flagging"===s,value:t,onChange:this.onReasonChange},null==a?void 0:a.map((function(e){return Object(y.d)("option",{key:e.value,value:e.value},e.label)})))),Object(y.d)("div",{className:"field-container"},Object(y.d)("label",{htmlFor:"reason-field"},nt()("Please explain or provide evidence below (required):")),Object(y.d)("textarea",{id:"reason-field",onChange:this.onEvidenceChange,className:"field",disabled:"flagging"===s,onBlur:this.handleEvidenceFieldTouched})),n&&u&&Object(y.d)("div",{className:"error-message"},Object(y.d)(ee.b,{message:nt()("Minimum {minWordCount, plural, one{# word} other{# words}}: {currentWordCount, number}"),minWordCount:rt,currentWordCount:c})),Object(y.d)("div",{className:"c-modal-action-bar"},"flagging"===s&&Object(y.d)("span",null,nt()("Submitting report...")),Object(y.d)("button",{type:"button",disabled:d||u,className:l,onClick:this.onSendReportButtonClick},nt()("Send report")))))))))},Ke()(SubmissionFlaggerModal,null,[{key:"defaultProps",get:function(){return{defaultReason:"incompleteSubmission",reasons:SubmissionFlaggerModal_getDefaultSkipReviewReasons()}}}]),SubmissionFlaggerModal}(j.Component);at.propTypes={error:Ye.a.object,onClose:Ye.a.func.isRequired,onReportSubmission:Ye.a.func.isRequired,defaultReason:Ye.a.string.isRequired,reasons:Ye.a.arrayOf(Ye.a.object).isRequired,flagSubmissionState:Ye.a.string.isRequired};var ot,st=at,ct=t("JAmU"),dt={peerSubmissionFlaggerWrapper:function(){return Object(y.c)(ot||(ot=w()(["\n    float: right;\n  "])))}},lt=function(e){function PeerSubmissionFlagger(t,n){var i;return(i=e.call(this,t,n)||this).onClickButton=function(){i.setState({isModalOpen:!0})},i.onCloseModal=function(){i.setState({isModalOpen:!1})},i.onReportSubmission=function(e){var t=i.props,n=t.computedItem.id,r=t.courseId,a=t.submissionId;i.context.executeAction(ct.a,{itemId:n,courseId:r,submissionId:a,report:e})},i.state={isModalOpen:!1},i}I()(PeerSubmissionFlagger,e);var t=PeerSubmissionFlagger.prototype;return t.componentWillReceiveProps=function(e){"flagging"===this.props.flagSubmissionState&&"flagged"===e.flagSubmissionState&&this.onCloseModal()},t.render=function(){return Object(y.d)("div",{css:dt.peerSubmissionFlaggerWrapper},Object(y.d)(components_SubmissionFlaggerButton,{onClick:this.onClickButton}),this.state.isModalOpen&&Object(y.d)(st,{onReportSubmission:this.onReportSubmission,onClose:this.onCloseModal,flagSubmissionState:this.props.flagSubmissionState,error:this.props.flagSubmissionError}))},PeerSubmissionFlagger}(j.Component);lt.contextTypes={executeAction:Ye.a.func.isRequired};var ut,mt,bt,pt=Qe.a.compose(Object(ue.a)(["PeerViewSubmissionStore"],(function(e){var t=e.PeerViewSubmissionStore;return{flagSubmissionState:t.getState().flagSubmissionState,flagSubmissionError:t.getState().flagSubmissionError}})))(lt),vt=t("8/sX"),gt=t("LKFv"),ft=t("gNwb"),ht={submissionLikeButton:function(){return Object(y.c)(ut||(ut=w()(["\n    float: right;\n  "])))}},St=function(e){function SubmissionLikeButton(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).toggleLike=function(){var e=t.props,n=e.computedItem.id,i=e.courseId,r=e.submissionId;e.votes.isUpvotedByUser?t.context.executeAction(ct.f,{itemId:n,courseId:i,submissionId:r}):t.context.executeAction(ct.b,{itemId:n,courseId:i,submissionId:r})},t}return I()(SubmissionLikeButton,e),SubmissionLikeButton.prototype.render=function(){var e=this.props.votes,t=be()("Like");return e.upVotes>0&&(t=Object(y.d)(ee.a,{message:be()("{likeCount} {likeCount, plural, =1 {like} other {likes}}"),likeCount:e.upVotes})),Object(y.d)("div",{css:ht.submissionLikeButton},Object(y.d)(ft.c,{icon:e.isUpvotedByUser?mt||(mt=Object(y.d)(vt.a,{size:"small"})):bt||(bt=Object(y.d)(gt.a,{size:"small"})),iconPosition:"before",variant:"ghost",size:"small",onClick:this.toggleLike,trackingName:"like",trackingData:{unlike:e.isUpvotedByUser}},t))},SubmissionLikeButton}(j.Component);St.contextTypes={executeAction:Ye.a.func.isRequired};var It=St,Ot=t("zxx9"),wt=t("dcEN"),yt=t.n(wt),jt=function(e){function ViewAsAdminButton(){return e.apply(this,arguments)||this}return I()(ViewAsAdminButton,e),ViewAsAdminButton.prototype.render=function(){return j.createElement(D.a,{requestedCapability:F.e.reviewMentorGraded},j.createElement(de.a,{href:this.context.router.location.pathname.indexOf("/review/")>-1?te.a.join(this.props.submissionId,"admin"):te.a.join("review",this.props.submissionId,"admin"),className:"link-button primary"},be()("View as Admin")))},ViewAsAdminButton}(j.Component);jt.propTypes={submissionId:Ye.a.string},jt.contextTypes={router:Ye.a.object};var xt,Ct,Pt,Et,Nt,At,kt,Rt,Tt,Mt,Vt=jt,Dt=t("ca6j"),Ft=t("0OjG"),Lt=t("zXDh"),Gt=t("l1rq"),Bt=t("vCNd"),Ut=t("Afcb"),qt={viewOriginalButtonContainer:function(){return Object(y.c)(xt||(xt=w()(["\n    display: flex;\n    align-items: center;\n    margin-left: 8px;\n  "])))},viewOriginalLabelContainer:function(){return Object(y.c)(Ct||(Ct=w()(["\n    display: flex;\n    align-items: center;\n  "])))},viewOriginalLanguageLabel:function(){return Object(y.c)(Pt||(Pt=w()(["\n    margin-left: 8px;\n  "])))}},TranslateSubmissionButton_TranslateSubmissionButton=function(e){var t=e.courseId,n=e.eventingSectionName,i=j.useContext(A.a);if(void 0===i)throw new Error("Missing TranslationContext. Make sure your component is nested under TranslationContextProvider.");var r=i.showTranslatedContent,a=i.setShowTranslatedContent,o=i.languageDetector,s=i.progressTracker,toggleShowTranslatedContent=function(){a(!r)};if(!o.isLanguageMismatch)return null;var c=t?{product:{id:t,type:"course"}}:{},d=n?{pageSection:{sectionName:n}}:{},l=M()(M()({button:{name:Ut.a.TRANSLATION_TRANSLATE}},c),d),u=M()(M()({button:{name:Ut.a.TRANSLATION_SHOW_ORIGINAL}},c),d);if(r){if(s.hasError||s.isLoading)return Object(y.d)(V.a,{onClick:s.refetchFailedQueries,variant:"ghost",size:"small",icon:Nt||(Nt=Object(y.d)(Bt.a,{size:"small"})),iconPosition:"before",loading:s.isLoading,trackingData:l},be()("Translate this submission"));if(o.detectedLanguageCode){var m=Object(Lt.languageCodeToName)(o.detectedLanguageCode);return Object(y.d)("div",{css:qt.viewOriginalButtonContainer},Object(y.d)("div",{css:qt.viewOriginalLabelContainer},At||(At=Object(y.d)(Bt.a,{color:"support",size:"small"})),Object(y.d)(Gt.a,{component:"p",css:qt.viewOriginalLanguageLabel,variant:"bodySecondary",color:"supportText"},be()("Translated from #{languageName}",{languageName:m}))),Object(y.d)(V.a,{onClick:toggleShowTranslatedContent,variant:"ghost",size:"small",trackingData:u},be()("View original")))}return Object(y.d)(V.a,{onClick:toggleShowTranslatedContent,variant:"ghost",size:"small",icon:kt||(kt=Object(y.d)(Bt.a,{size:"small"})),iconPosition:"before",trackingData:u},be()("View original"))}return Object(y.d)(V.a,{onClick:toggleShowTranslatedContent,variant:"ghost",size:"small",icon:Et||(Et=Object(y.d)(Bt.a,{size:"small"})),iconPosition:"before",trackingData:l},be()("Translate this submission"))},Wt=(t("hmzV"),function(e){var t=e.isAdminMode,n=e.title,i=e.createdAt,r=e.creatorProfile,a=e.submissionId,o=e.courseId,s=r.isAnonymous,c=r.fullName,d=r.userId,l=Object(L.b)().peerReviewEventingV3Data,u=Object(V.e)("view_page_section",M()({pageSection:{sectionName:"peer_submission_header"}},l));return j.createElement("div",{ref:u,className:"rc-PeerSubmissionHeader bt3-clearfix"},!t&&j.createElement("div",{className:"bt3-pull-right"},j.createElement(Vt,{submissionId:a})),j.createElement("div",{className:"headline-4-text"},j.createElement(Ft.a,{enableTranslation:!0,plainText:n})),j.createElement("div",{className:"horizontal-box"},j.createElement("div",null,j.createElement("div",{className:"author-container horizontal-box"},j.createElement(Dt.a,{alt:be()("Photo of learner"),profile:r}),j.createElement("div",{className:"metadata-area"},j.createElement("div",null,j.createElement(ee.b,{className:"display-1-text pii-hide",message:be()("by {creatorName}"),creatorName:s?be()("Anonymous Learner"):c})),j.createElement("div",null,j.createElement("span",{className:"caption-text color-secondary-text"},yt()(i).format("LL")),t&&j.createElement("span",{className:"caption-text color-secondary-text",style:{marginLeft:12}},j.createElement(ee.b,{className:"caption-text color-secondary-text",message:be()("User Id: {userId}"),userId:d}))))),j.createElement(TranslateSubmissionButton_TranslateSubmissionButton,{courseId:o,eventingSectionName:"peer_submission_header"})),j.createElement("div",{className:"actions-area align-right align-self-end flex-1"},e.reviewMetadata)))}),zt=function(e){function SubmissionHeader(){return e.apply(this,arguments)||this}return I()(SubmissionHeader,e),SubmissionHeader.prototype.render=function(){var e=this.props,t=e.isAdminMode,n=e.computedItem,i=e.submission,r=e.creatorProfile,a=e.votes,o=e.courseId,s=r.userId;return C.a.get().id===s?j.createElement(Ot.a,{title:i.definition.title,createdAt:i.createdAt,shareableLink:j.createElement(ze.a,{computedItem:n,submissionId:i.id})}):j.createElement(Wt,{isAdminMode:t,title:i.definition.title,createdAt:i.createdAt,creatorProfile:r,submissionId:i.id,courseId:o,reviewMetadata:j.createElement("div",null,j.createElement(pt,{courseId:o,computedItem:n,submissionId:i.id}),j.createElement(It,{courseId:o,computedItem:n,submissionId:i.id,votes:a}))})},SubmissionHeader}(j.Component),_t=Object(ue.a)(["CourseStore"],(function(e){return{courseId:e.CourseStore.getCourseId()}}))(zt),Yt={bannerSectionWrapper:function(){return Object(y.c)(Rt||(Rt=w()(["\n    margin-bottom: var(--cds-spacing-200);\n  "])))},bannerWrapper:function(){return Object(y.c)(Tt||(Tt=w()(["\n    margin-bottom: var(--cds-spacing-200);\n  "])))}},TranslationFailedBanner_TranslationFailedBanner=function(e,t){var n=e.courseId,i=e.itemId,r=e.submissionId,a=Object(j.useContext)(A.a);if(Object(j.useEffect)((function(){if(null!=a&&a.progressTracker.hasError&&!a.progressTracker.isLoading){var e=document.querySelector('[data-id="item-scroll-container"]');null==e||e.scrollTo(0,0)}}),[null==a?void 0:a.progressTracker.hasError,null==a?void 0:a.progressTracker.isLoading]),null==a||!a.progressTracker.hasError)return null;return Object(y.d)("div",{css:Yt.bannerSectionWrapper},Object(y.d)("div",{css:Yt.bannerWrapper},Object(y.d)(Ue.a,{inlineAction:Object(y.d)(Je.a,{size:"small",variant:"ghost",onClick:function(){t.executeAction(ct.e,{itemId:i,courseId:n,submissionId:r,report:{reason:"translationFailed",evidence:"translationFailed"}})}},be()("Skip this submission")),severity:"error"},be()("The content couldn't be translated."))),Mt||(Mt=Object(y.d)(qe.a,{color:"light"})))};TranslationFailedBanner_TranslationFailedBanner.contextTypes={executeAction:Ye.a.func.isRequired};var Ht,Qt,Jt,Xt,Zt=TranslationFailedBanner_TranslationFailedBanner,Kt=(t("Qklf"),Object(x.a)("SubmittedSubmissionView")),$t={translateButtonContainers:function(){return Object(y.c)(Ht||(Ht=w()(["\n    margin-top: calc(var(--cds-spacing-150) * -1);\n    margin-bottom: var(--cds-spacing-300);\n  "])))},aiGradingStatus:function(){return Object(y.c)(Qt||(Qt=w()(["\n    margin-bottom: var(--cds-spacing-400);\n  "])))}},en=function(e){function PeerPublicSubmissionView(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).renderFormParts=function(e){var n=t.props,i=n.reviewSubmissionState,r=n.isAdminMode,a=n.computedItem,o=n.submission,s=n.onReviewChange,c=i.backboneReviewSchema,d=i.review;return 0===c.getPartsForSubmissionSchemaPart(e).length?null:t.showDisplayPartsOnly()?Object(y.d)(Ge.a,{isAIGraded:t.props.submittedForAiGrading,courseId:t.props.courseId,itemId:a.id,submissionId:o.id},Object(y.d)(P.a,{reviewSchema:c,reviews:t.getReviews(),submissionSchemaPartId:e,submissionId:o.id,isAIGraded:t.props.submittedForAiGrading})):null!=d?Object(y.d)(E.a,{disabled:t.isFormDisabled(),reviewSchema:c,review:d.parts,submissionSchemaPartId:e,onChange:s,isMentorGraded:Object(N.u)(a)||r,submissionId:o.id,reviewValidationErrors:i.reviewValidationErrors}):null},t.renderAdminMessage=function(){var e=t.props,n=e.courseId,i=e.isAdminMode,r=e.computedItem,a=e.submission,o=e.isDeleted,s=e.creatorProfile,c=e.submittedForAiGrading,d=e.reviewSubmissionState,l=Object.values((d.review||{}).parts||{}).findIndex((function(e){return"multiLineInput"===e.typeName}))>-1;return i?Object(y.d)(j.Fragment,null,Object(y.d)(Fe,{courseId:n,computedItem:r,submissionId:a.id,isDeleted:o,learnerId:s.userId}),c&&Object(y.d)(Be.a,{cssOverride:$t.aiGradingStatus,hasTextRubric:l})):Jt||(Jt=Object(y.d)("noscript",null))},t}I()(PeerPublicSubmissionView,e);var t=PeerPublicSubmissionView.prototype;return t.getReviews=function(){var e=this.props,t=e.isAdminMode,n=e.reviewSubmissionState.backboneReviews;return t?n:[]},t.showDisplayPartsOnly=function(){var e=this.props,t=e.isAdminMode,n=e.creatorProfile.userId;return t||n===C.a.get().id},t.isFormDisabled=function(){var e,t=this.props,n=t.reviewSubmissionState.submitState,i=null!==(e=t.computedItem.isReadOnlyAfterSessionEnd)&&void 0!==e&&e;return"submitting"===n||"submitted"===n||i},t.render=function(){var e=this.props,t=e.computedItem,n=e.submission,i=e.reviewSubmissionState,r=e.isAdminMode,a=e.flaggedPreviousSubmission,o=e.skippedPreviousSubmission,s=e.isDeleted,c=e.creatorProfile,d=e.votes,l=e.courseId,u=e.naptimeSubmission,m=e.naptimeSubmissionSchema,b=e.onReviewSubmit,p=t.isGraded&&!Object(N.E)(t)?function(){return null}:this.renderFormParts,v=c.userId,g=C.a.get().id===v;return Object(y.d)(k.a,{trackingName:"render",className:Kt(void 0,{isAdminMode:r}),trackClicks:!1,requireFullyVisible:!1,data:{submission_id:n.id},withVisibilityTracking:!0},n.isAnonymous&&Object(y.d)(W.a,null,be()("Your fellow learner has submitted their assignment anonymously and your review will be anonymous to them. All names are still visible to course instructors.")),this.renderAdminMessage(),a&&Object(y.d)(components_AssignmentSuccessMessage,null,be()("The previous submission was successfully flagged. You can review a different submission below.")),o&&(Xt||(Xt=Object(y.d)(notifications_SubmissionSkippedBanner,null))),Object(y.d)(A.b,null,Object(y.d)(Zt,{itemId:t.id,courseId:l,submissionId:n.id}),Object(y.d)(_t,{isAdminMode:r,computedItem:t,submission:n,creatorProfile:c,votes:d}),Object(y.d)(Le.a,{submission:u,submissionSchema:m,renderInlineNode:p,enableTranslation:!0}),!g&&Object(y.d)("div",{css:$t.translateButtonContainers},Object(y.d)(TranslateSubmissionButton_TranslateSubmissionButton,{courseId:l,eventingSectionName:"peer_submission_footer"}))),!this.showDisplayPartsOnly()&&Object(y.d)(components_FormSubmit,{disabled:this.isFormDisabled(),errorType:i.errorType||"none",reviewEditable:"submitted"!==i.submitState,onSubmit:b}),null!=n.id&&!s&&Object(y.d)(R.a,{computedItem:t,courseId:l,submissionId:n.id}))},PeerPublicSubmissionView}(j.Component);e.a=en},vEo0:function(module,exports,e){e("Vnsw")},vl24:function(module,exports,e){},zxx9:function(module,e,t){"use strict";var n=t("VbXa"),i=t.n(n),r=t("q1tI"),a=t("dcEN"),o=t.n(a),s=t("17x9"),c=t.n(s),d=t("kvW3"),l=t("yhVA"),u=t.n(l),m=(t("N9VI"),function(e){function MySubmissionHeader(){return e.apply(this,arguments)||this}return i()(MySubmissionHeader,e),MySubmissionHeader.prototype.render=function(){var e=this.props,t=e.title,n=e.createdAt,i=e.shareableLink;return(r.createElement("div",{className:"rc-MySubmissionHeader bt3-clearfix"},r.createElement("div",{className:"headline-4-text"},t),r.createElement("div",{className:"horizontal-box"},!!n&&r.createElement("div",{className:"caption-text color-secondary-text"},r.createElement(d.b,{message:u()("Submitted on {creatorName}"),creatorName:o()(n).format("LL")})),i&&r.createElement("div",{className:"flex-1 align-right caption-text"},i))))},MySubmissionHeader}(r.Component));m.propTypes={title:c.a.string.isRequired,createdAt:c.a.number,shareableLink:c.a.element},e.a=m}}]);
//# sourceMappingURL=29.cbcec974970a57cb2c44.js.map